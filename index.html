<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    </head>
    <body onload="Gamereset()">
        <header class= "TitleBox">
        <h1 class="TitleText">Welcome To Zelda Hangman!</h1>
       </header>
        <h2>Press any key to get started!</h2>
        <h2 id="Win-Counter">Wins: 0</h2>
        <h2 id ="Puzzle-Text"></h2>
        <h2 id = "Lives-Text">Lives Left: 10</h2>
        <button onclick="myFunction()">Try it</button>


    <script>
        function Gamereset() {
        //creating a variable that will hold all possible words in an array
        var wordbank = [
            "e p o n a",
            "g a n o n d o r f",
            "t r i f o r c e",
            "g e r u d o",
            "h o o k s h o t",
            "b o o m e r a n g",
            "o c a r i n a",
            "g o r o n",
            "t i n g l e",
            "t e r m i n a",
            "m a j o r a",
            "s h e i k a h",

            ]
            //create an array that holds the alphabet
        var alphabet =  ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p",
        "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"]
        // create an array to keep the bad guesses
        var wrongguesses = [""]
        // an array that tracks lifes that are left
        var livesleft = 10
        // more variables to affect its place in the html
        var puzzletext = document.getElementById("Puzzle-Text");
        var livestext = document.getElementById("Lives-Text")





        // creating a variable that will directly affect it's place in the html
        console.log("-------------");

       var wins = document.getElementById("Win-Counter");

       winNumber = 0;
       console.log(winNumber)
       console.log("-------------");

       

       // when the page is loaded, a random choice will be selected from the word bank....
    


       

       var randomselection = wordbank[Math.floor(Math.random() * wordbank.length)];

       console.log("the choice made is " +randomselection);
       console.log("-------------");
       
       //and will convert all charcters into underscores...
        var unsolvedchoice = randomselection.replace(/a|b|c|d|e|f|g|h|i|j|k|l|m|n|o|p|q|r|s|t|u|v|w|x|y|z/g, "_");
        console.log("here you should see underscores " + unsolvedchoice)

console.log("-------------");
console.log(puzzletext)
        // and place those underscores directly on the webpage
puzzletext.textContent = unsolvedchoice;
console.log("-------------");
        // this function will convert the unsolved choice and the answer strings so i can use includes and search for the hyphen 
        // this will allow the game to begin
            var unsolvedchoicestring = String(unsolvedchoice);
            var puzzlestring = String(puzzletext);
            var n = unsolvedchoicestring.includes("_");
       


       console.log("puzzletext contain underscore? " + n);

       if (n = "true"){
           alert("the game has begun!");
           console.log ("the game has started");
           


       } else {console.log("the game has not begun")}
       

       //now the game has started, I'll add an event listener for the key being pressed
       document.onkeyup = function(event) {
           console.log("you just pressed " + event.key)

        // converts the guess to lowercase in case of capslock

           var guess = event.key.toLowerCase();
           console.log("lowercase guess is " + guess)

        // if the key matches up

           var keychecker = randomselection.includes(event.key);
           console.log("puzzle string includes it? " + keychecker);
           var alphabetchecker = alphabet.includes(guess);
           console.log("does alpabet include guess? " + alphabetchecker);

       // an if staetment that will check if the key pressed matches the "answer" contained in puzzletextString

       if (keychecker === true && alphabetchecker === true) {
           console.log("You got a letter right!!")


       }
       
       else if ( keychecker === false && alphabetchecker === true) {
           console.log("no you are wrong");
           livesleft--;
           console.log("lives left = " + livesleft);
           livestext.textContent = "Lives Left " + livesleft;

       } 
       
       else {
           console.log("wow you broke it-- nothing should happen")
       }

// if lifes reaches 0, you lose and the game resets with a new choice
       if (livesleft === 0)  {
           alert("Game Over!")
           Gamereset();
           livestext.textContent = "Lives Left 10"
       }

       }

    


       }

    
       
       

        //every time something happens, wins will go up by 1 (for now, if win number is greater than 0)
        if (winNumber > 0) {
           alert("you've won the game")
           wins.textContent = ("wins:" + winNumber);
           winNumber++
           console.log(winNumber)
           console.log("Win counter is working")
        //if not console should say false here
       } else {
           console.log("User has not won the game yet")
       }
       console.log("-------------");


      
        

    </script>







    
    </body>
</html>